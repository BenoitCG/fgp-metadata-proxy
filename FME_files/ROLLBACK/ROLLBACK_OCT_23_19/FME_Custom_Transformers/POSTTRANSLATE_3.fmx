#! <?xml version="1.0" encoding="UTF-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN POSTTRANSLATE_3,1,"Federal Geo Platform",76a3d589-9a0f-47e3-b2cf-b64d3618a88e,"Linked by Default",No,NO_PARALLELISM,,No,18586,YES,No,35
# 
# TRANSFORMER_END
#!   ATTR_TYPE_ENCODING="SDF"
#!   BLOCKED_LOOPING="No"
#!   CATEGORY="Federal Geo Platform"
#!   DESCRIPTION=""
#!   DOC_EXTENTS="7120.77 3025.83"
#!   DOC_TOP_LEFT="-5303.13 -301.835"
#!   EXPLICIT_BOOKMARK_ORDER="false"
#!   FME_BUILD_NUM="18586"
#!   FME_DOCUMENT_GUID="76a3d589-9a0f-47e3-b2cf-b64d3618a88e"
#!   FME_DOCUMENT_PRIORGUID="6e050686-0ff2-42b0-9989-8c4663c69e98,8e11bc19-f34f-4d95-8e45-400cf2450845,6f86a684-6198-4a14-a9e2-997dca84244b,950c5374-c3ff-4ba7-932f-66774b502bd9,d53aa591-a410-4632-8552-7c899b466232,d755abd0-bb64-40f6-8a76-14766f60ef63,15d7a94a-250d-431f-b346-b937c5cb80ac,71b59313-4a86-4cf9-858c-da1917bf1084,bc221bdf-37b5-4296-946c-e22f8fa5a582,cd87a2f7-1471-48fc-8221-bf0004d0aae0,58fe13f0-ee55-43a7-b14c-35d9485e7798,51fa0e78-3135-4208-8b42-26fa6de3e8df,e36ac13a-8b68-4c7c-914f-b00cfaae9768,261fd5ce-1013-4363-a1f7-3cd4982e36b1,e07fe17b-d322-4b1c-b496-a562dcf7e67b,d21cc679-26ea-437b-8ec1-d1f52cddec02"
#!   FME_LINKED_TRANSFORMER_VERSION="1"
#!   FME_PROCESS_COUNT="NO_PARALLELISM"
#!   FME_PROCESS_GROUPS_ORDERED="No"
#!   FME_PROCESS_GROUP_BY=""
#!   FME_SERVER_SERVICES=""
#!   FMX_ATTRIBUTE_PROPOGATION_MODE="AUTO"
#!   FMX_INSERT_MODE="Linked by Default"
#!   HISTORY=""
#!   ITERATION_COUNT_ATTR=""
#!   LAST_SAVE_BUILD="FME(R) 2018.1.1.2 (20190121 - Build 18586 - WIN32)"
#!   LAST_SAVE_DATE="2019-10-09T07:37:13"
#!   MARKDOWN_DESCRIPTION=""
#!   MARKDOWN_USAGE=""
#!   MAX_LOOP_ITERATIONS=""
#!   PASSWORD=""
#!   PYTHON_COMPATIBILITY="35"
#!   SHOW_ANNOTATIONS="true"
#!   SHOW_INFO_NODES="true"
#!   TITLE="POSTTRANSLATE_3"
#!   USAGE=""
#!   USE_MARKDOWN="NO"
#!   VIEW_POSITION="-8162.58 5187.55"
#!   WARN_INVALID_XFORM_PARAM="Yes"
#!   WORKSPACE_VERSION="1"
#!   XFORM_DEPRECATED="No"
#!   ZOOM_SCALE="50"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI OPTIONAL TEXT_OR_ATTR CSW_URL_AWS_SELECT_BC CSW URL AWS:"
#!   DEFAULT_VALUE="http://ec2-35-182-113-175.ca-central-1.compute.amazonaws.com:80/csw"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT SRC_LIST resource.format{}:"
#!   DEFAULT_VALUE="resource{}.format"
#!   IS_STAND_ALONE="true"
#! />
#! <GLOBAL_PARAMETER
#!   GUI_LINE="GUI TEXT_OR_ATTR SRC_LIST_2 resource.projection{}:"
#!   DEFAULT_VALUE="resource{}.projection"
#!   IS_STAND_ALONE="true"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! <COMMENT
#!   IDENTIFIER="17"
#!   COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:9pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;span style=&quot; font-size:12pt;&quot;&gt;This section compiles lists of distribution formats for each dataset and removes list duplicates.&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#!   POSITION="-2325.0157119539931 980.33342837195892"
#!   TOP_LEFT="-2325.0157119539931 980.33342837195892"
#!   BOTTOM_RIGHT="-1575.0157119539931 930.33342837195892"
#!   BOUNDING_RECT="-2325.0157119539931 980.33342837195892 750 50"
#!   ORDER="500000000000877"
#!   FOLLOW_ANCHOR="true"
#!   INFO_NODE="false"
#!   COLOUR="1,1,0.78431372549019607,0.19607843137254902"
#!   SIZE_POLICY="10"
#!   ANCHORED_NODE="0"
#! />
#! <COMMENT
#!   IDENTIFIER="18"
#!   COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:9pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;span style=&quot; font-size:28pt;&quot;&gt;This custom transformer is the third stage following the DeepL Translate custom transformer.  It enhances all datasets post translation to ensure conformity to ISO 19115 HNAP standards.  This is universal and can run in all workspaces.&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#!   POSITION="-5303.1301843719157 2069.7083780824687"
#!   TOP_LEFT="-5303.1301843719157 2069.7083780824687"
#!   BOTTOM_RIGHT="-2553.1026840969125 1592.8289092877808"
#!   BOUNDING_RECT="-5303.1301843719157 2069.7083780824687 2750.0275002750031 476.87946879468791"
#!   ORDER="500000000000140"
#!   FOLLOW_ANCHOR="true"
#!   INFO_NODE="false"
#!   COLOUR="1,1,0.78431372549019607,0.19607843137254902"
#!   SIZE_POLICY="10"
#!   ANCHORED_NODE="0"
#! />
#! <COMMENT
#!   IDENTIFIER="19"
#!   COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:9pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;span style=&quot; font-size:12pt;&quot;&gt;Copies all resource_format_(indexnumber) attributes into list attributes&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#!   POSITION="-1743.7674376743767 2574.1312929455203"
#!   TOP_LEFT="-1743.7674376743767 2574.1312929455203"
#!   BOTTOM_RIGHT="-893.80826620766209 2341.0042616752075"
#!   BOUNDING_RECT="-1743.7674376743767 2574.1312929455203 849.95917146671457 233.1270312703127"
#!   ORDER="500000000000878"
#!   FOLLOW_ANCHOR="true"
#!   INFO_NODE="false"
#!   COLOUR="1,1,0.78431372549019607,0.19607843137254902"
#!   SIZE_POLICY="10"
#!   ANCHORED_NODE="6"
#! />
#! <COMMENT
#!   IDENTIFIER="20"
#!   COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:9pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;span style=&quot; font-size:12pt;&quot;&gt;Removes all list attribute duplicates&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#!   POSITION="-2184.6408764926123 2113.5204852048523"
#!   TOP_LEFT="-2184.6408764926123 2113.5204852048523"
#!   BOTTOM_RIGHT="-1703.3741832348828 2114.5204852048523"
#!   BOUNDING_RECT="-2184.6408764926123 2113.5204852048523 481.26669325772946 -1"
#!   ORDER="500000000000879"
#!   FOLLOW_ANCHOR="true"
#!   INFO_NODE="false"
#!   COLOUR="1,1,0.78431372549019607,0.19607843137254902"
#!   SIZE_POLICY="10"
#!   ANCHORED_NODE="14"
#! />
#! <COMMENT
#!   IDENTIFIER="21"
#!   COMMENT_VALUE="&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0//EN&quot; &quot;http://www.w3.org/TR/REC-html40/strict.dtd&quot;&gt;&#10;&lt;html&gt;&lt;head&gt;&lt;meta name=&quot;qrichtext&quot; content=&quot;1&quot; /&gt;&lt;style type=&quot;text/css&quot;&gt;&#10;p, li { white-space: pre-wrap; }&#10;&lt;/style&gt;&lt;/head&gt;&lt;body style=&quot; font-family:&apos;MS Shell Dlg 2&apos;; font-size:9pt; font-weight:400; font-style:normal;&quot;&gt;&#10;&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&lt;span style=&quot; font-size:12pt;&quot;&gt;Renames remaining list attributes to distribution_format attributes&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
#!   POSITION="-2134.3474048078956 1638.4641746794216"
#!   TOP_LEFT="-2134.3474048078956 1638.4641746794216"
#!   BOTTOM_RIGHT="-1537.5153751537518 1345.9615496531715"
#!   BOUNDING_RECT="-2134.3474048078956 1638.4641746794216 596.83202965414387 292.50262502625026"
#!   ORDER="500000000000880"
#!   FOLLOW_ANCHOR="true"
#!   INFO_NODE="false"
#!   COLOUR="1,1,0.78431372549019607,0.19607843137254902"
#!   SIZE_POLICY="10"
#!   ANCHORED_NODE="5"
#! />
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! <BOOKMARK
#!   IDENTIFIER="13"
#!   NAME="Distribution Formatter"
#!   DESCRIPTION="&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;"
#!   TOP_LEFT="-2353.1485314853148 2723.9967115770783"
#!   ORDER="500000000000806"
#!   BOTTOM_RIGHT="-552.94629802743634 -81.250812508124909"
#!   BOUNDING_RECT="-2353.1485314853148 2723.9967115770783 1800.2022334578785 2805.2475240852032"
#!   STICKY="true"
#!   COLOUR="0.71764705882352942,0.24705882352941178,0.29803921568627451"
#!   CONTENTS="6 21 16 19 20 14 17 22 33 15 5 "
#! >
#! </BOOKMARK>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#!   IDENTIFIER="5"
#!   TYPE="AttributeRenamer"
#!   VERSION="4"
#!   POSITION="-1426.258532669174 1145.3348933866089"
#!   BOUNDING_RECT="-1426.258532669174 1145.3348933866089 431 71"
#!   ORDER="500000000000757"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18312"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="distribution_format_0" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_1" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_2" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_3" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_4" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="resource&lt;opencurly&gt;0&lt;closecurly&gt;.format distribution_format_0 RENAME_SET_DEFAULT  resource&lt;opencurly&gt;1&lt;closecurly&gt;.format distribution_format_1 RENAME_SET_DEFAULT  resource&lt;opencurly&gt;2&lt;closecurly&gt;.format distribution_format_2 RENAME_SET_DEFAULT  resource&lt;opencurly&gt;3&lt;closecurly&gt;.format distribution_format_3 RENAME_SET_DEFAULT  resource&lt;opencurly&gt;4&lt;closecurly&gt;.format distribution_format_4 RENAME_SET_DEFAULT  resource&lt;opencurly&gt;5&lt;closecurly&gt;.format distribution_format_5 RENAME_SET_DEFAULT "/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeRenamer"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="6"
#!   TYPE="AttributeCopier"
#!   VERSION="5"
#!   POSITION="-1463.6339064229114 2227.6274179067696"
#!   BOUNDING_RECT="-1463.6339064229114 2227.6274179067696 431 71"
#!   ORDER="500000000000748"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18586"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="resource_format_0 resource&lt;opencurly&gt;0&lt;closecurly&gt;.format COPY  resource_format_1 resource&lt;opencurly&gt;1&lt;closecurly&gt;.format COPY  resource_format_2 resource&lt;opencurly&gt;2&lt;closecurly&gt;.format COPY  resource_format_3 resource&lt;opencurly&gt;3&lt;closecurly&gt;.format COPY  resource_format_4 resource&lt;opencurly&gt;4&lt;closecurly&gt;.format COPY  resource_format_5 resource&lt;opencurly&gt;5&lt;closecurly&gt;.format COPY  resource_format_6 resource&lt;opencurly&gt;6&lt;closecurly&gt;.format COPY  resource_format_7 resource&lt;opencurly&gt;7&lt;closecurly&gt;.format COPY  resource_format_8 resource&lt;opencurly&gt;8&lt;closecurly&gt;.format COPY  resource_format_9 resource&lt;opencurly&gt;9&lt;closecurly&gt;.format COPY "/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCopier"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="14"
#!   TYPE="ListDuplicateRemover"
#!   VERSION="1"
#!   POSITION="-1426.258532669174 1832.8933289332892"
#!   BOUNDING_RECT="-1426.258532669174 1832.8933289332892 481.26669325772946 71"
#!   ORDER="500000000000807"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="19608"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="SRC_LIST" PARM_VALUE="$(SRC_LIST)"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="ListDuplicateRemover"/>
#! </TRANSFORMER>
#! <TRANSFORMER
#!   IDENTIFIER="22"
#!   TYPE="AttributeCreator"
#!   VERSION="9"
#!   POSITION="-1374.9918394114445 497.92164588312562"
#!   BOUNDING_RECT="-1374.9918394114445 497.92164588312562 -1 -1"
#!   ORDER="500000000000881"
#!   PARMS_EDITED="true"
#!   ENABLED="true"
#!   LAST_PARM_EDIT="18586"
#! >
#!     <OUTPUT_FEAT NAME="OUTPUT"/>
#!     <FEAT_COLLAPSED COLLAPSED="0"/>
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_0" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_1" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_2" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_3" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_4" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_version_5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_0" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_1" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_2" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_3" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_4" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_ATTR ATTR_NAME="distribution_format_5" IS_USER_CREATED="false" FEAT_INDEX="0" />
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_GRP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTRIBUTE_HANDLING" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="ATTR_TABLE" PARM_VALUE="&quot;&quot; distribution_format_version_0 SET_TO unknown  distribution_format_version_1 SET_TO unknown  distribution_format_version_2 SET_TO unknown  distribution_format_version_3 SET_TO unknown  distribution_format_version_4 SET_TO unknown  distribution_format_version_5 SET_TO unknown"/>
#!     <XFORM_PARM PARM_NAME="MULTI_FEATURE_MODE" PARM_VALUE="NO"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_MODE_DISPLAY" PARM_VALUE="No Substitution"/>
#!     <XFORM_PARM PARM_NAME="NULL_ATTR_VALUE" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_PRIOR_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="NUM_SUBSEQUENT_FEATURES" PARM_VALUE="&lt;Unused&gt;"/>
#!     <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#!     <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="AttributeCreator"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="2"
#!   NAME="INPUT"
#!   POSITION="-3135.8948490323373 2412.0042616752075"
#!   BOUNDING_RECT="-3135.8948490323373 2412.0042616752075 431 71"
#!   COLLAPSED="true"
#!   PUBLISHED="true"
#!   IS_SOURCE="true"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#!   IDENTIFIER="3"
#!   NAME="OUTPUT"
#!   POSITION="1386.6390563067157 -230.83504168375003"
#!   BOUNDING_RECT="1386.6390563067157 -230.83504168375003 431 71"
#!   COLLAPSED="true"
#!   IS_SOURCE="false"
#!   ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#!   IDENTIFIER="8"
#!   SOURCE_NODE="2"
#!   TARGET_NODE="6"
#!   SOURCE_PORT_DESC="0"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="33"
#!   SOURCE_NODE="5"
#!   TARGET_NODE="22"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="15"
#!   SOURCE_NODE="6"
#!   TARGET_NODE="14"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="16"
#!   SOURCE_NODE="14"
#!   TARGET_NODE="5"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="fi 0 "
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#!   IDENTIFIER="50"
#!   SOURCE_NODE="22"
#!   TARGET_NODE="3"
#!   SOURCE_PORT_DESC="fo 0 OUTPUT"
#!   TARGET_PORT_DESC="0"
#!   ENABLED="true"
#!   EXECUTION_IDX="0"
#!   HIDDEN="false"
#!   EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>

DEFAULT_MACRO $(POSTTRANSLATE_3_WORKSPACE_NAME)_CSW_URL_AWS_SELECT_BC http://ec2-35-182-113-175.ca-central-1.compute.amazonaws.com:80/csw
DEFAULT_MACRO $(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST resource{}.format
DEFAULT_MACRO $(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST_2 resource{}.projection
#! START_HEADER
#! END_HEADER

DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO POSTTRANSLATE_3_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(POSTTRANSLATE_3_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(POSTTRANSLATE_3_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(POSTTRANSLATE_3_WORKSPACE_NAME)_INPUT1570621033 Input Splitter"   INPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_INPUT"   OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_INPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCopier    INPUT  FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_INPUT" 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION { "resource_format_0" "resource<opencurly>0<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_1" "resource<opencurly>1<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_2" "resource<opencurly>2<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_3" "resource<opencurly>3<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_4" "resource<opencurly>4<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_5" "resource<opencurly>5<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_6" "resource<opencurly>6<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_7" "resource<opencurly>7<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_8" "resource<opencurly>8<closecurly>.format" "COPY" "" }      ATTR_ACTION { "resource_format_9" "resource<opencurly>9<closecurly>.format" "COPY" "" }    OUTPUT OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCopier_OUTPUT"
# -------------------------------------------------------------------------
Tcl2 proc $(POSTTRANSLATE_3_WORKSPACE_NAME)_ListDuplicateRemover_removeDups {} {    set srcIndex 0;    regsub \"{}\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} \"{$srcIndex}\"    listKeyAttrName;    regsub \"{}.*$\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} \"\{\"          listBase;    regsub \"{}.*$\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} \"\{*\"         listBasePattern;    regsub \"{(}.*)$\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} {\1}          listSuffix;    regsub \"{}\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} \"\\{\[0-9\]*\\}\" listPatternRegExp;    set listPatternRegExp \"^$listPatternRegExp\$\";    set listIndexRegExp   \"^$listBase\(\[0-9\]+\)\}.*\";    set attributeNames [FME_AttributeNames];    set COMMENT {      = Iterate over all attributes. For any that look like src_list{n}.something,      = keep a list in the associative array "listAttributesByIndex(n)". If they      = actually match the key on which we're comparing, store a "true" in the      = associative array "listKeyAttrNameExists()"    };    foreach attrname $attributeNames {       if [regsub $listIndexRegExp $attrname {\1} listIndex] {         lappend listAttributesByIndex($listIndex) $attrname;         if {$attrname ==  \"$listBase$listIndex$listSuffix\"} {           set listKeyAttrNameExists($attrname) true;         };       };    };    set destIndex 0;    set listElementsPattern {};    set haveMissingLast true;    if [catch { set haveNextKey $listKeyAttrNameExists($listKeyAttrName); }] { set haveNextKey false; };    while {[array size listKeyAttrNameExists] > 0 || $haveMissingLast } {        set keyVal [FME_GetAttribute $listKeyAttrName];        if {![info exists dups($keyVal)] && [info exists listAttributesByIndex($srcIndex)]} {            set listElementsPattern \"$listBase$srcIndex\}*\"; 				   set foundSibling 0;            set COMMENT {              = We already have the list of attributes associated with this index. Deal              = with each one of these.            };            foreach listAttrName $listAttributesByIndex($srcIndex)            {               set destAttrName [string replace $listAttrName 0                                 [expr [string length $listElementsPattern] - 3]                                 \"$listBase$destIndex\""];               set destAttrVal [FME_GetAttribute $listAttrName];               if {$destAttrVal == {} && [FME_IsAttributeNull $listAttrName]} {               	   set destAttrVal {FME_NULL_VALUE};               };               set holder($destAttrName) $destAttrVal;               if {$foundSibling == 0  } {                   set dups($keyVal) {};                   set foundSibling 1;               };            };            if {$foundSibling && $keyVal == {} && ![FME_AttributeExists $listKeyAttrName]}            {               set dups($keyVal) {};               set missingAttrName [string replace $listKeyAttrName 0                                 [expr [string length $listElementsPattern] - 3]                                 \"$listBase$destIndex\""];               set holder($missingAttrName) {FME_MISSING_VAL};            };            if {$foundSibling} {                incr destIndex;            };        };        if $haveNextKey {          unset listKeyAttrNameExists($listKeyAttrName);        };        incr srcIndex;        regsub \"{}\" {$($(POSTTRANSLATE_3_WORKSPACE_NAME)_SRC_LIST)} \"{$srcIndex}\" listKeyAttrName;        if [catch { set haveNextKey $listKeyAttrNameExists($listKeyAttrName); }] { set haveNextKey false; };        if {[array size listKeyAttrNameExists] == 0} {            set COMMENT {              = Once we've exhausted all of the actual sort keys, keep looking for structured              = elements within the list that don't have an accompanying sort key.            };            set haveMissingLast [info exists listAttributesByIndex($srcIndex)];        };    };    foreach attrname $attributeNames { 		 if {[string match $listBasePattern $attrname]} { 		   FME_UnsetAttributes $attrname; 		 };    };    foreach newListAttrName [array names holder] {        if {$holder($newListAttrName) == {FME_NULL_VALUE}} {           FME_SetAttributeNull $newListAttrName        } elseif { $holder($newListAttrName) != {FME_MISSING_VAL} } {           FME_SetAttribute $newListAttrName $holder($newListAttrName);        };    }; };
FACTORY_DEF * TeeFactory    FACTORY_NAME $(POSTTRANSLATE_3_WORKSPACE_NAME)_ListDuplicateRemover    INPUT  FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCopier_OUTPUT"    OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_ListDuplicateRemover_OUTPUT"         @Tcl2("$(POSTTRANSLATE_3_WORKSPACE_NAME)_ListDuplicateRemover_removeDups")
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    COMMAND_PARM_EVALUATION SINGLE_PASS    FACTORY_NAME $(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeRenamer    INPUT  FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_ListDuplicateRemover_OUTPUT" 	 ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV 	 ATTR_ACTION { "resource<opencurly>0<closecurly>.format" "distribution_format_0" "RENAME_SET_DEFAULT" "" }      ATTR_ACTION { "resource<opencurly>1<closecurly>.format" "distribution_format_1" "RENAME_SET_DEFAULT" "" }      ATTR_ACTION { "resource<opencurly>2<closecurly>.format" "distribution_format_2" "RENAME_SET_DEFAULT" "" }      ATTR_ACTION { "resource<opencurly>3<closecurly>.format" "distribution_format_3" "RENAME_SET_DEFAULT" "" }      ATTR_ACTION { "resource<opencurly>4<closecurly>.format" "distribution_format_4" "RENAME_SET_DEFAULT" "" }      ATTR_ACTION { "resource<opencurly>5<closecurly>.format" "distribution_format_5" "RENAME_SET_DEFAULT" "" }    OUTPUT OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeRenamer_OUTPUT"
# -------------------------------------------------------------------------
FACTORY_DEF {*} AttrSetFactory    FACTORY_NAME $(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCreator    COMMAND_PARM_EVALUATION SINGLE_PASS    INPUT  FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeRenamer_OUTPUT"    MULTI_FEATURE_MODE NO    NULL_ATTR_MODE NO_OP     ATTRSET_CREATE_DIRECTIVES _PROPAGATE_MISSING_FDIV     ATTR_ACTION { "" "distribution_format_version_0" "SET_TO" "unknown" }      ATTR_ACTION { "" "distribution_format_version_1" "SET_TO" "unknown" }      ATTR_ACTION { "" "distribution_format_version_2" "SET_TO" "unknown" }      ATTR_ACTION { "" "distribution_format_version_3" "SET_TO" "unknown" }      ATTR_ACTION { "" "distribution_format_version_4" "SET_TO" "unknown" }      ATTR_ACTION { "" "distribution_format_version_5" "SET_TO" "unknown" }    OUTPUT OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCreator_OUTPUT"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(POSTTRANSLATE_3_WORKSPACE_NAME)_OUTPUT1570621033 Output Collector"   INPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_AttributeCreator_OUTPUT"   OUTPUT FEATURE_TYPE "$(POSTTRANSLATE_3_WORKSPACE_NAME)_OUTPUT"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(POSTTRANSLATE_3_WORKSPACE_NAME))}]
